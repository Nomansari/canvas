<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kids Coding Adventure: Drawing App</title>
    <link rel="stylesheet" href="b.css">
 
</head>
<body>
    <!-- === HTML: The Structure of Our App === -->
    
    <div class="container">
        <header>
            <h1>üé® Kids Coding Adventure: Drawing App üé®</h1>
            <p class="subtitle">Learn HTML, CSS & JavaScript while creating amazing art!</p>
        </header>

        <div class="explanation">
            <h3>üß© How Websites Work: The Treehouse Analogy</h3>
            <div class="analogy">
                <strong>HTML</strong> is like the frame and walls of a treehouse - it creates the structure!
            </div>
            <div class="analogy">
                <strong>CSS</strong> is like paint and decorations - it makes everything look beautiful!
            </div>
            <div class="analogy">
                <strong>JavaScript</strong> is like the cool features - trap doors, pulleys, and secret knocks!
            </div>
        </div>

        <div class="controls">
            <button id="drawBtn">‚úèÔ∏è Draw Mode</button>
            <button id="shapesBtn">üî∑ Add Shapes</button>
            <button id="textBtn">üî§ Add Text</button>
            <button id="imagesBtn">üñºÔ∏è Add Images</button>
            <button id="clearBtn">üóëÔ∏è Clear Canvas</button>
            <button id="saveBtn">üíæ Save Drawing</button>
        </div>

        <div class="tool-options">
            <div class="brush-size">
                <span>Brush Size:</span>
                <input type="range" id="brushSize" min="1" max="50" value="5">
                <div class="size-display" id="sizeValue">5</div>
            </div>
            <div>
                <span>Color:</span>
                <input type="color" id="colorPicker" class="color-picker" value="#ff0000">
            </div>
        </div>

        <div class="canvas-container">
            <canvas id="myCanvas" width="800" height="500">
                Your browser doesn't support the canvas element.
            </canvas>
        </div>

        <div class="instructions">
            <h3>üöÄ How to Use Your Drawing App:</h3>
            <ul>
                <li><strong>Draw Mode:</strong> Click and drag to draw freehand</li>
                <li><strong>Shapes:</strong> Click to add random shapes</li>
                <li><strong>Text:</strong> Click to add fun messages</li>
                <li><strong>Images:</strong> Click to add random pictures</li>
                <li><strong>Clear:</strong> Wipe the canvas clean</li>
                <li><strong>Save:</strong> Download your masterpiece</li>
            </ul>
        </div>

        <footer>
            <p>Built with üíö for kids learning to code | HTML + CSS + JavaScript = Magic!</p>
        </footer>
    </div>

    <!-- === JavaScript: Making Our App Interactive! === -->
    
    <script>
        // Wait for the page to fully load before starting
        document.addEventListener('DOMContentLoaded', function() {
            
            // === SETUP: Get our canvas and tools ready ===
            
            // Get our drawing board (canvas)
            const canvas = document.getElementById('myCanvas');
            const ctx = canvas.getContext('2d');
            
            // Get all our buttons and controls
            const drawBtn = document.getElementById('drawBtn');
            const shapesBtn = document.getElementById('shapesBtn');
            const textBtn = document.getElementById('textBtn');
            const imagesBtn = document.getElementById('imagesBtn');
            const clearBtn = document.getElementById('clearBtn');
            const saveBtn = document.getElementById('saveBtn');
            const colorPicker = document.getElementById('colorPicker');
            const brushSize = document.getElementById('brushSize');
            const sizeValue = document.getElementById('sizeValue');
            
            // === VARIABLES: Remember what we're doing ===
            
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            let currentTool = 'draw';
            let currentColor = colorPicker.value;
            let currentBrushSize = parseInt(brushSize.value);
            
            // === FUNCTIONS: Our special drawing powers ===
            
            // Update which button looks active
            function updateActiveButton(activeBtn) {
                // Remove active class from all buttons
                [drawBtn, shapesBtn, textBtn, imagesBtn].forEach(btn => {
                    btn.classList.remove('active');
                });
                // Add active class to clicked button
                activeBtn.classList.add('active');
            }
            
            // Get the correct mouse/touch position
            function getCoordinates(e) {
                let x, y;
                
                if (e.type.includes('touch')) {
                    // For touch devices (phones/tablets)
                    const rect = canvas.getBoundingClientRect();
                    x = e.touches[0].clientX - rect.left;
                    y = e.touches[0].clientY - rect.top;
                } else {
                    // For mouse
                    x = e.offsetX;
                    y = e.offsetY;
                }
                
                return [x, y];
            }
            
            // Start drawing
            function startDrawing(e) {
                isDrawing = true;
                [lastX, lastY] = getCoordinates(e);
                
                // If we're not in draw mode, do the special action
                if (currentTool !== 'draw') {
                    performToolAction(lastX, lastY);
                }
            }
            
            // The main drawing function
            function draw(e) {
                if (!isDrawing || currentTool !== 'draw') return;
                
                e.preventDefault();
                const [x, y] = getCoordinates(e);
                
                // Draw a smooth line
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = currentColor;
                ctx.lineWidth = currentBrushSize;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.stroke();
                
                [lastX, lastY] = [x, y];
            }
            
            // Stop drawing
            function stopDrawing() {
                isDrawing = false;
            }
            
            // Handle touch events for mobile
            function handleTouch(e) {
                e.preventDefault();
                if (e.type === 'touchstart') {
                    startDrawing(e);
                } else if (e.type === 'touchmove' && currentTool === 'draw') {
                    draw(e);
                }
            }
            
            // Do the special action for each tool
            function performToolAction(x, y) {
                switch(currentTool) {
                    case 'shapes':
                        drawRandomShape(x, y);
                        break;
                    case 'text':
                        addRandomText(x, y);
                        break;
                    case 'images':
                        addRandomImage(x, y);
                        break;
                }
            }
            
            // Draw a random shape
            function drawRandomShape(x, y) {
                const shapes = ['rectangle', 'circle', 'triangle', 'star'];
                const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
                
                ctx.fillStyle = currentColor;
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 2;
                
                const size = Math.random() * 80 + 40;
                
                switch(randomShape) {
                    case 'rectangle':
                        ctx.fillRect(x - size/2, y - size/2, size, size * 0.7);
                        ctx.strokeRect(x - size/2, y - size/2, size, size * 0.7);
                        break;
                    case 'circle':
                        ctx.beginPath();
                        ctx.arc(x, y, size/2, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.stroke();
                        break;
                    case 'triangle':
                        ctx.beginPath();
                        ctx.moveTo(x, y - size/2);
                        ctx.lineTo(x - size/2, y + size/2);
                        ctx.lineTo(x + size/2, y + size/2);
                        ctx.closePath();
                        ctx.fill();
                        ctx.stroke();
                        break;
                    case 'star':
                        drawStar(x, y, 5, size/2, size/4);
                        ctx.fill();
                        ctx.stroke();
                        break;
                }
            }
            
            // Draw a star shape (more complex!)
            function drawStar(cx, cy, spikes, outerRadius, innerRadius) {
                let rot = Math.PI / 2 * 3;
                let x = cx;
                let y = cy;
                let step = Math.PI / spikes;
                
                ctx.beginPath();
                ctx.moveTo(cx, cy - outerRadius);
                
                for (let i = 0; i < spikes; i++) {
                    x = cx + Math.cos(rot) * outerRadius;
                    y = cy + Math.sin(rot) * outerRadius;
                    ctx.lineTo(x, y);
                    rot += step;
                    
                    x = cx + Math.cos(rot) * innerRadius;
                    y = cy + Math.sin(rot) * innerRadius;
                    ctx.lineTo(x, y);
                    rot += step;
                }
                
                ctx.lineTo(cx, cy - outerRadius);
                ctx.closePath();
            }
            
            // Add random fun text
            function addRandomText(x, y) {
                const funTexts = [
                    "I üíö Coding!",
                    "Canvas is Fun!",
                    "Hello World!",
                    "You're Awesome!",
                    "Create & Explore!",
                    "Kids Can Code!",
                    "Digital Art!",
                    "Learning Rocks!"
                ];
                
                const randomText = funTexts[Math.floor(Math.random() * funTexts.length)];
                const fontSize = Math.random() * 30 + 20;
                
                ctx.font = `bold ${fontSize}px Comic Sans MS`;
                ctx.fillStyle = currentColor;
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 2;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                // Add shadow for cool effect
                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                ctx.shadowBlur = 5;
                ctx.shadowOffsetX = 2;
                ctx.shadowOffsetY = 2;
                
                ctx.fillText(randomText, x, y);
                ctx.strokeText(randomText, x, y);
                
                // Reset shadow
                ctx.shadowColor = 'transparent';
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;
            }
            
            // Add a random image
            function addRandomImage(x, y) {
                const img = new Image();
                img.onload = function() {
                    const size = Math.random() * 150 + 50;
                    
                    // Draw image
                    ctx.drawImage(img, x - size/2, y - size/2, size, size);
                    
                    // Add a colored border
                    ctx.strokeStyle = currentColor;
                    ctx.lineWidth = 5;
                    ctx.strokeRect(x - size/2, y - size/2, size, size);
                };
                
                // Using placeholder images from picsum
                const imageId = Math.floor(Math.random() * 1000);
                img.src = `https://picsum.photos/200/200?random=${imageId}`;
                img.crossOrigin = "anonymous";
            }
            
            // Clear the canvas
            function clearCanvas() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawWelcomeMessage();
            }
            
            // Save the drawing as an image
            function saveDrawing() {
                const link = document.createElement('a');
                link.download = 'my-awesome-drawing.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            }
            
            // Draw welcome message
            function drawWelcomeMessage() {
                ctx.font = 'bold 40px Comic Sans MS';
                ctx.fillStyle = '#FF6B6B';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText('Welcome to Your Drawing App!', canvas.width/2, canvas.height/2 - 30);
                
                ctx.font = '20px Arial';
                ctx.fillStyle = '#333';
                ctx.fillText('Choose a tool and start creating!', canvas.width/2, canvas.height/2 + 20);
            }
            
            // === EVENT LISTENERS: Making buttons work ===
            
            // Tool buttons
            drawBtn.addEventListener('click', function() {
                currentTool = 'draw';
                updateActiveButton(this);
            });
            
            shapesBtn.addEventListener('click', function() {
                currentTool = 'shapes';
                updateActiveButton(this);
            });
            
            textBtn.addEventListener('click', function() {
                currentTool = 'text';
                updateActiveButton(this);
            });
            
            imagesBtn.addEventListener('click', function() {
                currentTool = 'images';
                updateActiveButton(this);
            });
            
            clearBtn.addEventListener('click', clearCanvas);
            saveBtn.addEventListener('click', saveDrawing);
            
            // Color and brush size
            colorPicker.addEventListener('input', function() {
                currentColor = this.value;
            });
            
            brushSize.addEventListener('input', function() {
                currentBrushSize = parseInt(this.value);
                sizeValue.textContent = currentBrushSize;
                sizeValue.style.width = currentBrushSize + 30 + 'px';
                sizeValue.style.height = currentBrushSize + 30 + 'px';
            });
            
            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch events for mobile
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
            
            // === INITIALIZE: Start our app ===
            
            // Set draw button as active
            updateActiveButton(drawBtn);
            
            // Draw welcome message
            drawWelcomeMessage();
            
            console.log("üé® Drawing app loaded successfully!");
            console.log("üí° Try all the different tools and have fun!");
        });
    </script>
</body>
</html>